<div ng-init="init()">

<label>Name</label>
<input type="text" class="input-large" placeholder="Name" ng-model="table.name" readonly>

<div class="pull-right">
	<a class="btn" onclick="tableScope.addField()" tabindex="1">Add Field</a>
</div>
<fieldset  ng-show="table.fields.length > 0">
	<label>Field</label>

    <table class="table ">
    	<thead>
    		<tr>
    			<td>#</td>
    			<td>Name</td>
    		</tr>
    	</thead>

		<tbody>
			<tr ng-repeat="field in table.fields">
				<td>{{field.id}}</td>
				<td><input type="text" class="w100 fields"
					ng-init="initField(field)"
					data-index="{{$index}}" 
					ng-model="field.name" 
					ng-change="updateId(field)"
					onkeydown="if(event.keyCode==13) tableScope.addField()"
					ng-keypress="console.log(field)"
					id="field_{{$index}}"
					tabindex="{{$index + 10}}"
					/> </td>
				<td><a class="btn" ng-click="deleteField($index)">delete</a></td>
			</tr>
		</tbody>

	</table>

	 <div class="pull-right" >
	 	<a ng-click="update()"  tabindex="101" class="btn">更新</a>
	 	<a href="#/tables" tabindex="110" class="btn">戻る</a>
	 </div>

 </fieldset>

</div>